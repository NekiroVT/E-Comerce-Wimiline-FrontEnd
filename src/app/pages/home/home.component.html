<!-- ğŸ” Zona superior con logo + buscador -->
<div class="top-search">
  <div class="search-wrapper">
    <img src="../../../assets/wwwwwwr.jpg" alt="Logo" class="search-logo" />

    <app-buscador
      [value]="searchQuery"
      (valueChange)="searchQuery = $event"
      (submit)="handleSearch()"
    ></app-buscador>

    <!-- BotÃ³n de cuenta reemplazado -->
     <app-carrito></app-carrito>

    <app-button-perfil></app-button-perfil>
  </div>
</div>



<!-- ğŸ§­ Navbar va despuÃ©s del buscador -->
<app-navbar></app-navbar>

<!-- ğŸ“¦ Contenido de productos -->
<div class="container">
  <ng-container *ngIf="loading; else productosView">
    <div class="loading">Cargando productos...</div>
  </ng-container>

  <ng-template #productosView>
    <div *ngIf="filtrados.length === 0" class="message">
      âš ï¸ No hay productos disponibles.
    </div>

    <div class="grid" [ngStyle]="{'grid-template-columns': 'repeat(' + numColumns + ', 1fr)'}">
      <div *ngFor="let producto of filtrados" class="card" [style.width.px]="cardWidth">
        <app-producto-card [producto]="producto"></app-producto-card>
      </div>
    </div>

    <h2 class="title">
      {{ isLoggedIn ? 'ğŸ‰ Bienvenido al sistema de ventas' : 'ğŸ˜Š Bienvenido :3' }}
    </h2>

    <button *ngIf="isLoggedIn" (click)="handleLogout()">Cerrar sesiÃ³n</button>
  </ng-template>
</div>
