<div class="container">
  <h2 class="title">⚙️ Panel Administrativo</h2>

  <!-- Crear Rol -->
  <div class="crud-section">
    <h3>➕ Crear Rol</h3>
    <input [(ngModel)]="nuevoRol" placeholder="Nombre del rol (Ej: ADMIN)" />
    <input [(ngModel)]="descripcionRol" placeholder="Descripción del rol" />
    <button (click)="crearRol()">Crear</button>
  </div>

  <!-- Lista de Roles con opción para eliminar -->
  <div class="crud-section" *ngIf="roles.length > 0">
    <h3>🎭 Roles existentes</h3>
    <ul>
      <li *ngFor="let rol of roles">
        {{ rol.name }} - {{ rol.description }}
        <button (click)="eliminarRol(rol.id)">🗑️</button>
      </li>
    </ul>
  </div>

  <!-- Crear Permiso -->
  <div class="crud-section">
    <h3>🛡️ Crear Permiso</h3>
    <input [(ngModel)]="nuevoPermiso" placeholder="Nombre del permiso (Ej: usuarios:usuarios.get)" />
    <input [(ngModel)]="descripcionPermiso" placeholder="Descripción del permiso" />
    <button (click)="crearPermiso()">Crear</button>
  </div>

  <!-- Lista de Permisos -->
  <div class="crud-section" *ngIf="permisos.length > 0">
    <h3>📜 Permisos existentes</h3>
    <ul>
      <li *ngFor="let permiso of permisos">
        {{ permiso.name }} - {{ permiso.description }}
      </li>
    </ul>
  </div>

  <!-- Asignar Rol a Usuario -->
  <div class="crud-section">
    <h3>👤 Asignar Rol a Usuario</h3>

    <label>Selecciona un usuario:</label>
    <select [(ngModel)]="usuarioIdParaRol">
      <option value="" disabled selected>-- Elegir usuario --</option>
      <option *ngFor="let usuario of usuarios" [value]="usuario.id">
        {{ usuario.username }}
      </option>
    </select>

    <label>Selecciona un rol:</label>
    <select [(ngModel)]="rolParaAsignar">
      <option value="" disabled selected>-- Elegir rol --</option>
      <option *ngFor="let rol of roles" [value]="rol.name">
        {{ rol.name }}
      </option>
    </select>

    <button (click)="asignarRolAUsuario()">Asignar</button>
  </div>

  <!-- Asignar Permiso a Rol -->
  <div class="crud-section">
    <h3>🔗 Asignar Permiso a Rol</h3>

    <label>Selecciona un rol:</label>
    <select [(ngModel)]="rolIdParaPermiso">
      <option value="" disabled selected>-- Elegir rol --</option>
      <option *ngFor="let rol of roles" [value]="rol.name">
        {{ rol.name }}
      </option>
    </select>

    <label>Selecciona un permiso:</label>
    <select [(ngModel)]="permisoParaAsignar">
      <option value="" disabled selected>-- Elegir permiso --</option>
      <option *ngFor="let permiso of permisos" [value]="permiso.name">
        {{ permiso.name }}
      </option>
    </select>

    <button (click)="asignarPermisoARol()">Asignar</button>
  </div>
</div>
